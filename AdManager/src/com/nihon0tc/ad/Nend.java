package com.nihon0tc.ad;import net.nend.android.NendAdView;import proguard.annotation.Keep;import proguard.annotation.KeepName;import android.app.Activity;import android.view.LayoutInflater;import android.view.ViewGroup;import com.nihon0tc.ad.R;import com.google.ads.AdSize;import com.google.ads.mediation.MediationAdRequest;import com.google.ads.mediation.customevent.CustomEventBannerListener;import com.nihon0tc.util.LogUtil;@Keeppublic class Nend extends CustomAd {	private static ViewGroup adParentView;	private static NendAdView adView = null;	@KeepName	@Override	public void requestBannerAd(CustomEventBannerListener listener,			Activity activity, String label, String serverParameter,			AdSize adSize, MediationAdRequest request) {		super.requestBannerAd(listener, activity, label, serverParameter, adSize,request);		LogUtil.trace(TAG,"(label,serverParameter)=(" + label +","+serverParameter+")");		if(adView!=null){			onRecivedAd(listener);	 	   	return;		}		String nendApiKey ="";		String nendSpotId ="";		if(serverParameter==null || "".equals(serverParameter.trim()) ){			nendApiKey = activity.getResources().getString(R.string.nendApiKey);			nendSpotId = activity.getResources().getString(R.string.nendSpotId);		}		else{			nendApiKey = serverParameter.split(",")[0];			nendSpotId = serverParameter.split(",")[1];		}    	KeyInfo = "("+nendApiKey +","+nendSpotId +")";    	try {    		LayoutInflater inflater = activity.getLayoutInflater();    		adParentView  = (ViewGroup)inflater.inflate(R.layout.ad_nend, null);    		adView = new NendAdView(activity,Integer.valueOf(nendSpotId),nendApiKey);        	adParentView.addView(adView);		} catch (Exception e) {			LogUtil.error(TAG,"init",e);			listener.onFailedToReceiveAd();			return;		}		onRecivedAd(listener);   }	private void onRecivedAd(CustomEventBannerListener listener) {		try {			listener.onReceivedAd(adParentView);		   	LogUtil.trace(TAG,"onReceivedAd OK");		 } catch (Exception e) {			LogUtil.error(TAG,"onReceivedAd",e);			listener.onFailedToReceiveAd();		}	}		@KeepName	@Override	public void stop() {	   	LogUtil.trace(TAG,"support stop");		try {			if(adView!=null)adView.pause();//中断		} catch (Exception e) {			LogUtil.error(TAG,"stop",e);		}	}	@KeepName	@Override	public void start() {	   	LogUtil.trace(TAG,"support start");		try {			if(adView!=null)adView.resume();		} catch (Exception e) {			LogUtil.error(TAG,"start",e);		}	}}